<!doctype html>
<meta charset="utf-8" />
<title>Mock Tabnab</title>
<style>
  body{font:16px system-ui;margin:40px}
  .login{max-width:360px;padding:24px;border:1px solid #ccc;border-radius:8px}
</style>
<h1>News feed</h1>
<p>Read this, then switch tabs for a few seconds and come back.</p>
<script>
  let armed = false;
  document.addEventListener('visibilitychange', () => {
    if (document.visibilityState === 'hidden') {
      armed = true;
    } else if (document.visibilityState === 'visible' && armed) {
      document.body.innerHTML = `
        <div class="login">
          <h2>PhishBook Login</h2>
          <label>Email</label><input style="display:block;width:100%;margin:6px 0 12px">
          <label>Password</label><input type="password" style="display:block;width:100%;margin:6px 0 12px">
          <button>Log in</button>
          <p style="color:#666;margin-top:8px">You were logged out. Please sign in again.</p>
        </div>`;
      armed = false;
    }
  }, { passive: true });
</script>